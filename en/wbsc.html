<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="alternate" hreflang="it" href="/en/../wbsc.html"/ >
<script>var LangRedirection=function(){"use strict";var t="sf-lang",e=!1,n=function(t){e&&console.log(t)},i={set:function(t,e,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=t+"="+e+";"+o+";path=/"},get:function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""}},o=function(e){n("set cookie to "+e),i.set(t,e,360)},r=function(t){for(var e=document.getElementsByTagName("link"),n=0;n<e.length;n++){var i=e[n];if("alternate"===i.getAttribute("rel")&&i.getAttribute("hreflang")===t)return window.location.replace(i.getAttribute("href"))}},a=function(){var e=i.get("sf-lang"),a=document.getElementsByTagName("html")[0].getAttribute("lang").toLowerCase();if(e)n("detected cookie in "+e),n("cookieLang="+e+" | pageLang="+a),e!==a&&r(e);else{n("no "+t+" cookie");var g=navigator.languages;if(n("navigator.languages detected:"+g),!g)return o(a);for(var c=!1,l=0;l<g.length;l++)if(-1!==g[l].toLowerCase().indexOf("it")){c=!0;break}if(c&&"it"===a)return o("it");c||"it"!==a?o("en"):(o("en"),r("en"))}},g=function(){for(var t=document.getElementsByClassName("translation-link"),e=0;e<t.length;e++)t[e].onclick=function(){o(this.getAttribute("hreflang"))}};return{init:a,postLoad:g}}();LangRedirection.init(),window.onload=function(){LangRedirection.postLoad()};</script>  <title>WBSC | Soluzioni Futura</title>
  <meta name="description" content="How we turned a WordPress website into a Cloud distributed application able to handle millions of HTTP requests per hour">
  <link rel="canonical" href="/en/wbsc.html">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="fb:app_id" content="114199599053551">
  <meta property="og:url" content="/en/wbsc.html">
  <meta property="og:site_name" content="Soluzioni Futura">
  <meta property="og:description" content="How we turned a WordPress website into a Cloud distributed application able to handle millions of HTTP requests per hour">
  <meta property="og:image" content="/uploads/img/portfolio/background-wbsc.jpg">
  <meta property="og:title" content="WBSC: scalable highly-available web architecture">
  <meta property="og:type" content="website">
  <meta name="msapplication-tap-highlight" content="no">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="translucent">
  <meta name="apple-mobile-web-app-title" content="">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/manifest.json">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="theme-color" content="#ffffff">
  <link href="/static/css/application_721ec89a8a.css" rel="stylesheet" type="text/css">
</head>
<body>


<nav class="navigation">
  <div class="nav-content content">
    <a class="nav-logo" href="/en/index.html">
      <span>Logo Soluzioni Futura</span>
      <img src="/static/icons/logo_c00fb21f9c.svg" alt="Soluzioni Futura logo">
    </a>
    <div class="mobile-toggle">
      <span></span>
      <span></span>
      <span></span>
      <i>MENU</i>
    </div>
    <div class="nav-lang-selector">
      <p class="active-lang">EN</p>
      <ul class="nav-lang-drop">
          <li><a class="translation-link it-translation" href="/en/../wbsc.html" rel="alternate" hreflang="it">IT</a></li>
      </ul>
    </ul></div>
    <ul class="nav-links">
      <li>
        <a href="/en/cloud.html">Cloud</a>
      </li>
      <li>
        <a href="/en/about.html">About SF</a>
      </li>
      <li>
        <a href="/en/contacts.html">Contacts</a>
      </li>
    </ul>
  </div>
</nav>  <header class="hero-home article-header" style="background-image: url('/uploads/img/portfolio/background-wbsc.jpg')">
    <div class="hero-content portfolio-hero">
      <div class="hero-lead-content" style="width: 100%">

      <div class="hero-lead-text">
          
 

          <h1 class="hero-title" style="color: white">WBSC: scalable highly-available web architecture</h1>
          <h2 class="hero-subtitle" style="color: white">How we turned a WordPress website into a Cloud distributed application able to handle millions of HTTP requests per hour</h2>
      </div>
    </div>
  </div>
</header>
<main id="article-content">
  <section>
    <article class="content" >
      <div class="inner-container">
          <h2 class="portfolio-title">WBSC</h2>
          <img class="portfolio-image" src="/uploads/img/portfolio/logo-wbsc.svg">
      </div>
      <p>WBSC is the <strong>World Baseball Softball Confederation</strong>, the world's leading authority for Baseball and Softball, affiliated with the International Olympic Committee. WBSC has <strong>208 associated national federations in 141 different countries</strong>.</p>
<h2>The challenge</h2>
<p><strong>WBSC's website is the main source of information for most portals dedicated to the sport of Baseball, for international news agencies and specialist publications</strong> for all news related to international competitions and tournaments. For this reason, traffic on WBSC's website can spike rapidly, especially during tournaments or events.</p>
<blockquote>
<p>It isn't rare for the number or users on the website to increase thousand-folds when posts are shared on social media, or when commercials about an international tournament or competition airs anywhere in the world.</p>
</blockquote>
<p>WBSC's website is translated in five languages including Japanese, Korean and Chinese and its audience is really global. Apart from publishing news daily, the website also hosts important information like international rulings and regulations which are used on a daily basis all across the world; most importantly, the website hold <strong>all of the statistics relative to international teams and players, scorings and game data updated in real time during competitions.</strong>
For this reason, the website isn't just a reference for fans or staff affiliated with its many associated national federations; it is also one of the main tools of the job for a plethora of editors, publishers and translators.</p>
<p><strong>We built all of the Cloud infrastructure upon which WBSC's website resides</strong>; the site was made from the ground up by the design &amp; digital studio <a href="http://www.ventie30.it/" target="_blank">VENTIE30</a>, our partner in matters related to web and communication.</p>
<p>The project's key requirements were numerous and challenging; specifically, the website has to be <strong>secure, fast and always online</strong> with all of its functionality intact both for visitors and staff. Also, this website has a number of developers working on it constantly, and they need to be able to continuously deploy new functionalities and bug fixes in production without compromising the website's availability in a fast, secure and efficient manner. <strong>All operations must happen with no downtime</strong>.</p>
<h2>Our solution</h2>
<p>The first step was to transform the website in a <strong>distributed application</strong>, both horizontally and vertically, on different instances organized in different layers. At its core, WBSC's website is powered by WordPress, so its fundamental components are the web application, the database and the file system; the website also depends on a collection of web services and applications, like Play By Play, which updates and displays a game's scores and statistics in real time along with a rendition of the playing field.</p>
<h3>Database</h3>
<p>To ensure business continuity for database-related operations we chose an <strong>as a service</strong> solution with a main writer node and a variable number of synchronous read replicas; this way the loss of a single node still allows database readings. When the main writer node is not answering the <strong>disaster recovery</strong> system promotes one of the read replicas to the role of main writer, thus restoring full functionality. All backups are automated and replicated across multiple different geographical regions.</p>
<p>Because of the high number of reads that the database has to handle, especially when traffic scales rapidly, we engineered the infrastructure to include a <strong>caching layer</strong>: the output of the most intensive and frequent database queries is saved on multiple <strong>memcached</strong> nodes, which serve the data directly from RAM to the web application to maximize retrival speed.</p>
<h3>File system</h3>
<p>All files upon which the application can perform operations, like multimedia files uploaded directly from the website or configuration files, need to be shared among all of the cluster's web servers. For this reason we implemented a <strong>synchronously replicated high-availability NAS</strong>; the file system is backed-up regularly too, and backups are replicated on different data centers in different regions.</p>
<h3>Web server</h3>
<p>The web servers which host the application are reachable via a <strong>highly-available load balancer</strong> and they <strong>scale automatically</strong>, increasing or decreasing their number according to metrics which are continuously updated according to our analysis of website traffic data and instance resource consumption, so that the application can get better at scaling and adapt more rapidly to handle more traffic and reduce infrastructure costs. Unresponsive instances are automatically removed from the cluster so that they don't receive anymore traffic.</p>
<h3>Static content</h3>
<p>All files which are server directly to clients, like CSS style sheets, JavaScript scripts, images and video, are hosted on an <strong>object storage</strong> to maximize file availability and durability, and to distribute them efficiently across multiple servers to guarantee <strong>fast delivery performance regardless of the number of requests</strong>. At the object-storage level we handle rules for browser caching and for CDN edge-location caching. We also use object storage to save logs and aggregated metrics reports.</p>
<h3>Content Delivery Network and Web Application Firewall</h3>
<p>We implemented a distributed <strong>Content Delivery Network</strong> for WBSC's website across more than 50 data centers all over the world; this way the loading time for the website is uniform across the globe. The CDN pulls from the main infrastructure and caches each web page with ad-hoc invalidation times for each resource; the most frequently updated resources dynamicall invalidate themselves when an update is made from the source. The CDN layer implements a <strong>dynamic web application firewall</strong> with auto-updating exclusion rules to protect the website from the most common security threats.</p>
<h2>From a single project to a continuous collaboration</h2>
<p>Our work with <a href="http://www.wbsc.org/" target="_blank">WBSC</a> challenged our team with interesting, complex problems for which the client needed <strong>specific, state of the art technologies, delivered fast</strong>; for a client like WBSC, <strong>time to market</strong> is of paramount importance. Our collaboration with VENTIE30 and with WBSC's personnel was smooth and it proved to be a growing opportunity for every actor involved in the project. The client's full satisfaction gave us the chance to start a continuous collaboration, giving us the job to <strong>ensure and monitor uptime</strong>, especially during tournaments, to <strong>optimize architecture</strong> and give consultancy for development-related matters.</p>
<h2>The future</h2>
<p>The natural evolution of web technologies and the client's growing needs allow us to plan for continuous development and improvement; specifically, we plan to migrate all of the website to <strong>HTTPS</strong>, implement <strong>HTTP2</strong> protocol, configure <strong>end-to-end IPv6</strong> and progressively tansition more and more components to a <strong>microservices</strong> architecture by developing web services exposing <strong>REST APIs</strong>; specifically, we would like to employ technologies like Lambda and API Gateway from Amazon Web Services, which we already use in production with other projects, using Node.js and Python. From a data standpoint, we are migrating from a SQL-only paradigm to a <strong>polyglot persistency</strong> model based on <strong>object storage</strong>, SQL and <strong>NoSQL</strong> using solutions like Amazon's <strong>DynamoDB</strong>.</p>
    </article>
  </section>
</main> 
<footer class="footer">
  <div class="content footer-content">
    <div class="footer-section">
      <div class="footer-logo">
        <span>Logo Soluzioni Futura</span>
        <a href="/en/index.html">
          <span>Logo Soluzioni Futura</span>
          <img src="/static/icons/logo-white_da288c2ce6.svg" alt="Soluzioni Futura logo">
        </a>
      </div>
    </div>
    <div class="footer-section">
      <ul>
        <li class="footer-section-title">
          Sitemap
        </li>
        <li>
          <a href="/en/index.html">Home</a>
        </li>
        <li>
          <a href="/en/cloud.html">Cloud</a>
        </li>
        <li>
          <a href="/en/about.html">About SF</a>
        </li>
        <li>
          <a href="/en/contacts.html">Contacts</a>
        </li>
      </ul>
    </div>
    <div class="footer-section">
      <ul>
        <li class="footer-section-title">
          Follow us
        </li>
        <li>
          <a href='https://www.facebook.com/soluzionifutura' target='_blank'>Facebook</a>
        </li>
        <li>
          <a href='https://www.linkedin.com/company/soluzioni-futura' target='_blank'>Linkedin</a>
        </li>
        <li>
          <a href='https://twitter.com/soluzionifutura' target='_blank'>Twitter</a>
        </li>
        <li>
          <a href="https://blog.soluzionifutura.it/en/index.html">Blog</a>
        </li>
      </ul>
    </div>
    <div class="footer-section">
      <ul>
        <li class="footer-section-title">
          Global
        </li>
        <li>
          <a class="translation-link" href="/" hreflang="it">Italiano</a>
        </li>
        <li>
          <a class="translation-link" href="/en/index.html" hreflang="en">English</a>
        </li>
      </ul>
    </div>
  </div>
  <div class="inner-container footer-final">
    <div class="content">
      Copyright Soluzioni Futura | <a href='/privacy.html'>Privacy - Cookie policy</a> | Via Meuccio Ruini 74/d - Reggio Emilia (RE) | P.Iva 02602650356 - REA 296870
    </div>
  </div>
</footer><script src="/static/js/application_74af8db074.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-48378469-3', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>